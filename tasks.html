{% extends 'base.html' %}

{% block content %}
<h1>Tasks</h1>

<!-- Form to submit a new task -->
<form method="POST" action="/tasks">
    <input type="text" name="title" placeholder="Task Title" required>
    <input type="date" name="due_date" required>
    <select name="category" required>
        <option value="Personal">Personal</option>
        <option value="Work">Work</option>
    </select>
    <!-- This is just a single button now to add tasks. -->
    <button type="submit">Add Task</button>
</form>

<!-- Display tasks categorised as Personal or Work -->
<div style="display: flex; justify-content: space-between; margin-top: 20px;">
    <!-- Personal Tasks -->
    <div style="width: 45%;">
        <h2 style="color: #3383ff;">Personal Tasks</h2>
        <ul>
            {% for task in personal_tasks %}
            <li class="personal">
                {{ task.title }} (Due: {{ task.due_date }})
                <form method="POST" action="/delete_task/{{ task.id }}" style="display: inline;">
                    <button type="submit">Delete</button>
                </form>
            </li>
            {% endfor %}
        </ul>
    </div>

    <!-- Work Tasks -->
    <div style="width: 45%;">
        <h2 style="color: #90EE90;">Work Tasks</h2>
        <ul>
            {% for task in work_tasks %}
            <li class="work">
                {{ task.title }} (Due: {{ task.due_date }})
                <form method="POST" action="/delete_task/{{ task.id }}" style="display: inline;">
                    <button type="submit">Delete</button>
                </form>
            </li>
            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}
